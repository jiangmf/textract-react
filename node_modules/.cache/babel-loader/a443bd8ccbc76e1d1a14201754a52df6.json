{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { GetCredentialsForIdentityCommand } from \"@aws-sdk/client-cognito-identity\";\nimport { CredentialsProviderError } from \"@aws-sdk/property-provider\";\nimport { resolveLogins } from \"./resolveLogins\";\nexport function fromCognitoIdentity(parameters) {\n  var _this = this;\n\n  return function () {\n    return __awaiter(_this, void 0, void 0, function () {\n      var _a, _b, _c, AccessKeyId, Expiration, _d, SecretKey, SessionToken, _e, _f, _g, _h;\n\n      var _j;\n\n      return __generator(this, function (_k) {\n        switch (_k.label) {\n          case 0:\n            _f = (_e = parameters.client).send;\n            _g = GetCredentialsForIdentityCommand.bind;\n            _j = {\n              CustomRoleArn: parameters.customRoleArn,\n              IdentityId: parameters.identityId\n            };\n            if (!parameters.logins) return [3, 2];\n            return [4, resolveLogins(parameters.logins)];\n\n          case 1:\n            _h = _k.sent();\n            return [3, 3];\n\n          case 2:\n            _h = undefined;\n            _k.label = 3;\n\n          case 3:\n            return [4, _f.apply(_e, [new (_g.apply(GetCredentialsForIdentityCommand, [void 0, (_j.Logins = _h, _j)]))()])];\n\n          case 4:\n            _a = _k.sent().Credentials, _b = _a === void 0 ? throwOnMissingCredentials() : _a, _c = _b.AccessKeyId, AccessKeyId = _c === void 0 ? throwOnMissingAccessKeyId() : _c, Expiration = _b.Expiration, _d = _b.SecretKey, SecretKey = _d === void 0 ? throwOnMissingSecretKey() : _d, SessionToken = _b.SessionToken;\n            return [2, {\n              identityId: parameters.identityId,\n              accessKeyId: AccessKeyId,\n              secretAccessKey: SecretKey,\n              sessionToken: SessionToken,\n              expiration: Expiration\n            }];\n        }\n      });\n    });\n  };\n}\n\nfunction throwOnMissingAccessKeyId() {\n  throw new CredentialsProviderError(\"Response from Amazon Cognito contained no access key ID\");\n}\n\nfunction throwOnMissingCredentials() {\n  throw new CredentialsProviderError(\"Response from Amazon Cognito contained no credentials\");\n}\n\nfunction throwOnMissingSecretKey() {\n  throw new CredentialsProviderError(\"Response from Amazon Cognito contained no secret key\");\n}","map":{"version":3,"names":["__awaiter","__generator","GetCredentialsForIdentityCommand","CredentialsProviderError","resolveLogins","fromCognitoIdentity","parameters","_this","_a","_b","_c","AccessKeyId","Expiration","_d","SecretKey","SessionToken","_e","_f","_g","_h","_j","_k","label","client","send","bind","CustomRoleArn","customRoleArn","IdentityId","identityId","logins","sent","undefined","apply","Logins","Credentials","throwOnMissingCredentials","throwOnMissingAccessKeyId","throwOnMissingSecretKey","accessKeyId","secretAccessKey","sessionToken","expiration"],"sources":["C:/Users/icean/aws-doc-sdk-examples/javascriptv3/example_code/cross-services/textract-react/node_modules/@aws-sdk/credential-provider-cognito-identity/dist-es/fromCognitoIdentity.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { GetCredentialsForIdentityCommand } from \"@aws-sdk/client-cognito-identity\";\nimport { CredentialsProviderError } from \"@aws-sdk/property-provider\";\nimport { resolveLogins } from \"./resolveLogins\";\nexport function fromCognitoIdentity(parameters) {\n    var _this = this;\n    return function () { return __awaiter(_this, void 0, void 0, function () {\n        var _a, _b, _c, AccessKeyId, Expiration, _d, SecretKey, SessionToken, _e, _f, _g, _h;\n        var _j;\n        return __generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _f = (_e = parameters.client).send;\n                    _g = GetCredentialsForIdentityCommand.bind;\n                    _j = {\n                        CustomRoleArn: parameters.customRoleArn,\n                        IdentityId: parameters.identityId\n                    };\n                    if (!parameters.logins) return [3, 2];\n                    return [4, resolveLogins(parameters.logins)];\n                case 1:\n                    _h = _k.sent();\n                    return [3, 3];\n                case 2:\n                    _h = undefined;\n                    _k.label = 3;\n                case 3: return [4, _f.apply(_e, [new (_g.apply(GetCredentialsForIdentityCommand, [void 0, (_j.Logins = _h,\n                                _j)]))()])];\n                case 4:\n                    _a = (_k.sent()).Credentials, _b = _a === void 0 ? throwOnMissingCredentials() : _a, _c = _b.AccessKeyId, AccessKeyId = _c === void 0 ? throwOnMissingAccessKeyId() : _c, Expiration = _b.Expiration, _d = _b.SecretKey, SecretKey = _d === void 0 ? throwOnMissingSecretKey() : _d, SessionToken = _b.SessionToken;\n                    return [2, {\n                            identityId: parameters.identityId,\n                            accessKeyId: AccessKeyId,\n                            secretAccessKey: SecretKey,\n                            sessionToken: SessionToken,\n                            expiration: Expiration,\n                        }];\n            }\n        });\n    }); };\n}\nfunction throwOnMissingAccessKeyId() {\n    throw new CredentialsProviderError(\"Response from Amazon Cognito contained no access key ID\");\n}\nfunction throwOnMissingCredentials() {\n    throw new CredentialsProviderError(\"Response from Amazon Cognito contained no credentials\");\n}\nfunction throwOnMissingSecretKey() {\n    throw new CredentialsProviderError(\"Response from Amazon Cognito contained no secret key\");\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}