{"ast":null,"code":"import { __assign, __awaiter, __generator } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nexport var sendMessageMiddleware = function (options) {\n  return function (next) {\n    return function (args) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var resp, output, hash, _a, _b;\n\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              return [4, next(__assign({}, args))];\n\n            case 1:\n              resp = _c.sent();\n              output = resp.output;\n              hash = new options.md5();\n              hash.update(args.input.MessageBody || \"\");\n              _a = output.MD5OfMessageBody;\n              _b = toHex;\n              return [4, hash.digest()];\n\n            case 2:\n              if (_a !== _b.apply(void 0, [_c.sent()])) {\n                throw new Error(\"InvalidChecksumError\");\n              }\n\n              return [2, resp];\n          }\n        });\n      });\n    };\n  };\n};\nexport var sendMessageMiddlewareOptions = {\n  step: \"initialize\",\n  tags: [\"VALIDATE_BODY_MD5\"],\n  name: \"sendMessageMiddleware\",\n  override: true\n};\nexport var getSendMessagePlugin = function (config) {\n  return {\n    applyToStack: function (clientStack) {\n      clientStack.add(sendMessageMiddleware(config), sendMessageMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"names":["__assign","__awaiter","__generator","toHex","sendMessageMiddleware","options","next","args","resp","output","hash","_a","_b","_c","label","sent","md5","update","input","MessageBody","MD5OfMessageBody","digest","apply","Error","sendMessageMiddlewareOptions","step","tags","name","override","getSendMessagePlugin","config","applyToStack","clientStack","add"],"sources":["C:/Users/icean/aws-doc-sdk-examples/javascriptv3/example_code/cross-services/textract-react/node_modules/@aws-sdk/middleware-sdk-sqs/dist-es/send-message.js"],"sourcesContent":["import { __assign, __awaiter, __generator } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nexport var sendMessageMiddleware = function (options) {\n    return function (next) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var resp, output, hash, _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4, next(__assign({}, args))];\n                    case 1:\n                        resp = _c.sent();\n                        output = resp.output;\n                        hash = new options.md5();\n                        hash.update(args.input.MessageBody || \"\");\n                        _a = output.MD5OfMessageBody;\n                        _b = toHex;\n                        return [4, hash.digest()];\n                    case 2:\n                        if (_a !== _b.apply(void 0, [_c.sent()])) {\n                            throw new Error(\"InvalidChecksumError\");\n                        }\n                        return [2, resp];\n                }\n            });\n        }); };\n    };\n};\nexport var sendMessageMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"VALIDATE_BODY_MD5\"],\n    name: \"sendMessageMiddleware\",\n    override: true,\n};\nexport var getSendMessagePlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(sendMessageMiddleware(config), sendMessageMiddlewareOptions);\n    },\n}); };\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;AACA,SAASC,KAAT,QAAsB,4BAAtB;AACA,OAAO,IAAIC,qBAAqB,GAAG,UAAUC,OAAV,EAAmB;EAClD,OAAO,UAAUC,IAAV,EAAgB;IACnB,OAAO,UAAUC,IAAV,EAAgB;MAAE,OAAON,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;QAC1E,IAAIO,IAAJ,EAAUC,MAAV,EAAkBC,IAAlB,EAAwBC,EAAxB,EAA4BC,EAA5B;;QACA,OAAOV,WAAW,CAAC,IAAD,EAAO,UAAUW,EAAV,EAAc;UACnC,QAAQA,EAAE,CAACC,KAAX;YACI,KAAK,CAAL;cAAQ,OAAO,CAAC,CAAD,EAAIR,IAAI,CAACN,QAAQ,CAAC,EAAD,EAAKO,IAAL,CAAT,CAAR,CAAP;;YACR,KAAK,CAAL;cACIC,IAAI,GAAGK,EAAE,CAACE,IAAH,EAAP;cACAN,MAAM,GAAGD,IAAI,CAACC,MAAd;cACAC,IAAI,GAAG,IAAIL,OAAO,CAACW,GAAZ,EAAP;cACAN,IAAI,CAACO,MAAL,CAAYV,IAAI,CAACW,KAAL,CAAWC,WAAX,IAA0B,EAAtC;cACAR,EAAE,GAAGF,MAAM,CAACW,gBAAZ;cACAR,EAAE,GAAGT,KAAL;cACA,OAAO,CAAC,CAAD,EAAIO,IAAI,CAACW,MAAL,EAAJ,CAAP;;YACJ,KAAK,CAAL;cACI,IAAIV,EAAE,KAAKC,EAAE,CAACU,KAAH,CAAS,KAAK,CAAd,EAAiB,CAACT,EAAE,CAACE,IAAH,EAAD,CAAjB,CAAX,EAA0C;gBACtC,MAAM,IAAIQ,KAAJ,CAAU,sBAAV,CAAN;cACH;;cACD,OAAO,CAAC,CAAD,EAAIf,IAAJ,CAAP;UAdR;QAgBH,CAjBiB,CAAlB;MAkBH,CApBwC,CAAhB;IAoBpB,CApBL;EAqBH,CAtBD;AAuBH,CAxBM;AAyBP,OAAO,IAAIgB,4BAA4B,GAAG;EACtCC,IAAI,EAAE,YADgC;EAEtCC,IAAI,EAAE,CAAC,mBAAD,CAFgC;EAGtCC,IAAI,EAAE,uBAHgC;EAItCC,QAAQ,EAAE;AAJ4B,CAAnC;AAMP,OAAO,IAAIC,oBAAoB,GAAG,UAAUC,MAAV,EAAkB;EAAE,OAAQ;IAC1DC,YAAY,EAAE,UAAUC,WAAV,EAAuB;MACjCA,WAAW,CAACC,GAAZ,CAAgB7B,qBAAqB,CAAC0B,MAAD,CAArC,EAA+CN,4BAA/C;IACH;EAHyD,CAAR;AAIjD,CAJE"},"metadata":{},"sourceType":"module"}